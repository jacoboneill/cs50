# Speller

## Problem

For this problem, you'll implement a program that spell-checks a file, a la the below, using a hash table.

## Demo

```
$ make speller
$ ./speller dictionaries/large texts/grimm.txt

MISSPELLED WORDS

Etext
Etexts
Etexts
Etexts
Grimms'
Etext
Etext
txt
etexts
txt
txt
Etext
Dudding
hotmail
jbickers
ihug
nz
Dagny
dagnyj
hotmail
Etexts
Etexts
etext
Etexts
Etexts
Etext
x
Etexts
Hart's
CMU
CMU
P
O
S
prairienet
org
org
org
prairienet
org
etexts
http
promo
pg
Etexts
etext
http
promo
pg
metalab
unc
edu
cd
docs
cd
dir
mget
GUTINDEX
e
g
GUTINDEX
GUTINDEX
ETEXTS
etext
etext
ETEXT
tm
etext
etext
etext
TM
ETEXTS
tm
etext
tm
etexts
S
etext
etexts
etexts
etext
etext
tm
etext
etext
ETEXT
ETEXT
etext
etext
tm
etext
etext
etext
cessing
etext
etext
etext
etext
etext
OCR
etexts
ETEXTS
Ver
Etext
Dudding
hotmail
jbickers
ihug
nz
Dagny
dagnyj
hotmail
PREPARER'S
Grimms'
und
Hausmarchen
Edwardes
JORINDA
JORINDEL
VIST
KORBES
FUNDEVOGEL
HOLLE
ASHPUTTEL
HUNTSMEN
KNOWALL
gardener's
gardener's
place'
cage'
king's
brothers'
king's
Jip
Jip
thirst'
Tis
JORINDA
JORINDEL
Jorinda
Jorindel
Jorindel
Jorinda
Jorindel
Jorindel
Jorinda
mourn'd
Jorindel
Jorinda
Tu
whu
Tu
whu
Tu
whu
Jorindel
Jorindel
Jorindel
Jorinda
sorrowed
Jorinda
disenchanted
Jorinda
Jorindel
Jorindel
Jorinda
Jorinda
Jorinda
jollily
in'
king's
king's
king's
king's
kings'
king's
king's
baker's
king's
king's
kings'
safe'
king's
water's
O
Ilsabill
Ilsabill
O
Ilsabill
Ilsabill
O
Ilsabill
Ilsabill
water's
O
Ilsabill
Ilsabill
O
O
Ilsabill
Ilsabill
Ilsabill
O
Ilsabill
King's
fly's
bear's
bear's
Yes'
prince's
prince's
godchildren
gone'
mouse's
bridegroom's
Falada
bridegroom's
Falada
Falada
instead'
Falada
Falada
king's
Curdken
slaughterers
road'
Falada
Falada
Falada's
Curdken
Falada
Falada
hangest
gangest
Curdken
Curdken's
whirl'd
comb'd
curl'd
Curdken's
Falada's
Falada
Falada
hangest
gangest
Curdken
Curdken's
whirl'd
comb'd
curl'd
Curdken
Curdken
Falada
Falada
hangest
gangest
Curdken
Falada
Falada
Curdken's
whirl'd
comb'd
curl'd
Curdken's
Curdken
Falada
nutshells
duck's
Partlet's
jollily
eggshells
morning'
VIST
KORBES
Korbes
Korbes
Korbes's
Korbes
ells
king's
king's
king's
king's
Gothel
does'
Gothel
king's
Rapunzel's
king's
king's
king's
FUNDEVOGEL
Lina
Fundevogel
Fundevogel
Lina
Lina
Sanna
Lina
Fundevogel
Lina
Fundevogel
Fundevogel
Lina
Sanna
Fundevogel
Lina
Fundevogel
Fundevogel
Lina
simpletons
Lina
Fundevogel
Fundevogel
Lina
Lina
Fundevogel
Fundevogel
Lina
tailor's
strength'
tailor's
huntsmen
king's
pocketsful
huntsmen
huntsmen
huntsmen
king's
O
sluggards
B
Hansel's
witch's
witch's
HOLLE
baker's
Holle
Holle
Holle
Holle
Holle
Holle
doo
Holle's
Holle
Holle
Holle
doo
time'
wolf'
wolf's
wolf's
morning'
strewed
murderers'
murderers'
murderers'
murderers'
murderers'
murderers'
shewed
well'
cow's
cow's
disheartened
myself'
again'
cow's
wolf's
miller's
miller's
miller's
miller's
miller's
miller's
days'
ICHABOD
SHANKS
jeered
RUMPLESTILTSKIN
miller's
miller's
raven's
krr
krr
miller's
talers
raven's
talers
cow's
talers
talers
miller's
strewed
O
pedlars
pedlars
chafed
chafed
Catherine's
witch's
breadcrumbs
Roland's
Roland's
windowframe
O
Snowdrop's
O
dwarfs'
dwarfs'
king's
dwarfs'
Snowdrop's
king's
king's
king's
king's
huntsmen
huntsmen
king's
king's
sense'
Elsie's
fowler's
years'
reward'
musician's
florins
dwarf's
pity's
florins
ASHPUTTEL
Ashputtel
Ashputtel's
king's
Ashputtel
dishful
hours'
linnets
Ashputtel
Ashputtel
linnets
Ashputtel
shame'
Ashputtel
Ashputtel
king's
king's
home'
Ashputtel
Ashputtel
king's
king's
Ashputtel
king's
Ashputtel
Ashputtel
king's
king's
time'
king's
Ashputtel
king's
Ashputtel
Ashputtel
king's
king's
strewed
sacksful
king's
king's
bleated
gorged
beast's
kings'
bees'
disenchanted
king's
dwarf's
king's
shoemaker's
wights
sorrowed
winter's
cuffings
Marleen
Marleen
Marleen
Marleen
Marleen
Marleen
Marleen
Kywitt
Kywitt
Kywitt
Kywitt
shoemaker's
Kywitt
Kywitt
Kywitt
Kywitt
miller's
Kywitt
Kywitt
Kywitt
Kywitt
Marleen
Marleen
Marleen
Marleen
Kywitt
Kywitt
Marleen
Kywitt
Kywitt
Marleen
Marleen
sowed
yoked
calves'
sheep's
ecclesiastics
cunningest
chaffinch's
king's
shinest
shinest
blowest
griffin's
woes
Jip
Jip
him'
king's
soldier's
soldier's
soldier's
soldier's
king's
king's
unconsumed
king's
Dummling
Dummling
Dummling
Dummling
Dummling
Dummling
Dummling
goodness'
Dummling
Dummling
Dummling
king's
Dummling
cellarful
Dummling
Dummling
Dummling
king's
Dummling
Dummling
Dummling
ovenful
Dummling
king's
Dummling
Dummling
Dummling
king's
Dummling
it'
overhung
journey's
brothers'
right'
journey's
king's
huntsmen
prince's
king's
king's
O
thoughout
road'
frolick'd
HUNTSMEN
king's
king's
king's
king's
huntsmen's
huntsmen's
huntsmen
king's
huntsmen
huntsmen
huntsmen
king's
huntsmen
king's
huntsmen
huntsmen
king's
huntsmen
huntsmen
king's
Heinel
Heinel
Heinel
Heinel
Heinel
Heinel
Heinel
Heinel
Heinel
Heinel
Heinel
Heinel
Heinel
Heinel
Heinel
Heinel
traitors'
Heinel
KNOWALL
Crabb
talers
B
C
Knowall
Knowall
Crabb
Knowall
Grete
nobleman's
Crabb
Grete
Grete
Grete
Grete
Crabb
B
C
Knowall
play'
tis
O
Kehrewit
said'
want'
heart'
asleep'
one'
stripes'
O
sexton's
talers
talers
ropemaker's
talers
talers
talers
Au
miau
farthings
gudgeons
gudgeons
Wallface
baker's
king's
king's
king's
jeered
huntsmen
huntsmen
king's
king's
gardener's
king's
king's
king's
ducats
king's
ducats
gardener's
hobblety
hobblety
Hans'
king's
hobblety
king's
king's
king's
king's
king's
gardener's
gardener's
besmeared
huntsmen
huntsmen
huntsmen
king's
king's
king's
king's
king's
king's
king's
bleated
little'
bear's
mercy's
king's
Wilhelm's
Tales'
Etext

WORDS MISSPELLED:     718
WORDS IN DICTIONARY:  143091
WORDS IN TEXT:        103614
TIME IN load:         0.05
TIME IN check:        0.09
TIME IN size:         0.00
TIME IN unload:       0.01
TIME IN TOTAL:        0.15

$ ./speller dictionaries/large texts/lalaland.txt

MISSPELLED WORDS

Chazelle
L
TECHNO
L
Thelonious
Prius
MIA
L
MIA
Mia
MIA
Mia
AHHHHHHHHHHHHHHHT
Mia
Mia
INT
Mia
MIA
Mia
Mia
Mia
Mia
Mia
Mia's
Mia
MIA
MIA
MIA
INT
Mia's
MIA
MIA
Turner's
Mia
Yoohoo
MIA
Mia
scurries
Mia
Mia
Mia
INT
Mia
INT
MIA'S
Mia
Ingrid
Uta
Mia
Mia
Mia
MIA
Cheetos
Mia
How'd
MIA
Jen
MIA
Jen
MIA
Mia
CAITLIN
Mia
Mia
MIA
O
S
Mia
Mia's
MIA
inbox
beelines
Mia's
MIA
MIA
Mia's
Mia
clich
Mia
clich
s
Caitlin
Mia
Mia
Mia
Caitlin
Mia
Mia
Caitlin
Mia
INT
Mia
D
J
clich
Mia
Mia
Mia
carousers
clich
s
Mia
MIA
O
S
Mia
MIA
Mia
AHHHHHHHHHHHHHHHHHHHHHHT
Mia's
RAYO'S
s
Deco
BEEK
TAPAS
INT
SEBASTIAN'S
Steinway
Sebastian's
tapas
Seb
tapas
Uh
long's
Shanghai'ed
Shanghai'ed
INT
SEBASTIAN'S
Thelonious
LP
INT
beelining
Seb
INT
Mia
Mia
Sebastian's
Mia
MIA
SEBASTIAN'S
Mia
Mia
Mia
Mia
MIA
Mia's
Mia
INT
Mia
MIA
GT
achromatopsia
MIA
D
O
perp
P
D
MIA
O
S
trippin'
MIA
Jamal
trippin'
Mia
s
Mia
Mia
Carlo's
Mia
MIA
y'all
MIA
Mia
Mia
INT
Mia
Mia
MIA
MIA
MIA
MIA
MIA
MIA
Uh
barista
Mia
smirks
MIA
MIA
Mia
Mia
lookin'
Mia
Warners
Mia
Charlize
MIA
MIA
MIA
MIA
Prius
Prius
MIA
Mia
Mia
MIA
MIA
n't
MIA
MIA
MIA
Mia
MIA
MIA
Uh
MIA
MIA
MIA
Mia
Mia
Mia
Mia
Mia
blossoming
Mia
Mia
MIA
K
Prius
MIA
MIA
MIA
Mia
INT
Mia's
MIA
Mia
MIA
MIA
Mia
MIA
MIA
Uh
How'd
Mia
Mia
MIA
Mia
fa
ade
MIA
Ingrid
Bogart's
Mia
MIA
MIA
MIA
MIA
Beek
tapas
MIA
tapas
joke's
Mia
L
P
P
MIA
C
Mia
D
O
S
Mia
How'd
MIA
O
S
Mia
MIA
MIA
soundstage
MIA
MIA
O
C
Should've
soundstages
MIA
MIA
MIA
MIA
mic
MIA
MIA
MIA
MIA
MIA
Mia
INT
Mia
MIA
G
Mia
MIA
facials
MIA
Mia
Mia
Pantages
Mia
MIA
Beek
music's
sizzles
Mia
Mia
INT
MIA
INT
Mia
Sebastian's
Mia
MIA
MIA
O
C
MIA
bulletsssss
Mia
MIA
MIA
me's
MIA
MIA
Mia
Mia
Mia
Mia
MIA
MIA'S
O
S
MIA
MIA'S
O
S
MIA
MIA'S
O
S
MIA
MIA'S
O
S
MIA
MIA'S
O
S
MIA
MIA'S
O
S
MIA
MIA'S
O
S
ABC
HBO
MIA
MIA'S
O
S
MIA
INT
Mia
Pfeiffer's
Mia
Mia
O
S
Mia
INT
Mia
Mia's
Mia
Mia
MIA
Kapish
Mia
MIA
Mia
INT
MIA'S
Mia
MIA'S
O
S
Mia
INT
MIA'S
Mia
Mia
Fritos
Mia
Mia
MIA
Mia
O
S
Mia
INT
Sebastian's
INT
Mia
Josh's
Fianc
e
Mia
Mia
Mia
INT
Mia
eco
Mia
Sebastian's
morphed
Mia
MIA
Mia's
INT
Mia
Sebastian's
Mia
INT
Mia
Sebastian's
Mia
Mia
Mia
MIA
Sebastian's
INT
Mia
Mia's
unspools
Mia
Mia
INT
MIA'S
Mia's
O
S
Mia
MIA
O
S
MIA
AHHHHHHHHHHHHHHHHHHHHHHHHHHHT
MIA
MIA'S
Mia
Sebastian's
MIA
O
S
Mia
Mia
s
Mia
BEEK
TAPAS
Mia
Mia
s
Deco
INT
Sebastian's
Mia
Mia
O
S
Mia
Mia
Sebastian's
Mia
Mia
Mia
MIA
Mia
how've
Mia
MIA
Mia
INT
SEBASTIAN'S
MIA
MIA
Mia's
MIA
MIA
MIA
MIA
Mia
MIA
MIA
Seb's
MIA
MIA
MIA
Beek
MIA
play's
Mia
MIA
MIA
MIA
MIA
MIA
MIA
MIA
Mia
INT
SEBASTIAN'S
Mia's
MIA
O
S
MIA
O
S
INT
Keith's
Sebastian's
Sebastian's
olds
INT
SEBASTIAN'S
Mia
Mia
INT
INT
Mia
INT
INT
Mia
INT
INT
Mia
INT
Sebastian's
INT
Mia
INT
YOUTUBE
Mia
INT
SEBASTIAN'S
Mia
INT
SEBASTIAN'S
Mia
INT
SEBASTIAN'S
INT
SEBASTIAN'S
Mia
INT
SEBASTIAN'S
Mia
INT
SEBASTIAN'S
INT
SEBASTIAN'S
Mia
MIA
INT
Mia
Mia
Mia
Mia
synth
Mia
bandmates
Mia
Mia
Mia
Mia's
INT
Mia
Mia
s
Mia
Mia
MIA
Mia
Seb
MIA
Mia
MIA
MIA
Seb
MIA
Mia
Seb
Mia
MIA
MIA
Mia
overthink
Mia
INT
Mia
e
MIA
INT
SEBASTIAN'S
Mia
sashaying
Mia
Mia's
Sebastian's
INT
SEBASTIAN'S
Mia
MIA
MIA
MIA
MIA
MIA
MIA
MIA
MIA
MIA
Mia
MIA
MIA
MIA
MIA
MIA
show's
MIA
MIA
Mia
Mia
MIA
MIA
MIA
MIA
MIA
MIA
MIA
MIA
MIA
MIA
MIA
MIA
MIA
MIA
Shangri
MIA
Mia
MIA
MIA
MIA
LP
Mia
Mia
MIA
Mia
MIA
Mia
INT
Mia
INT
ya
Sebastian's
Mojo
INT
INT
Mia
Mia
INT
band's
pantomiming
Photographer's
Mia's
INT
Mia
wallpapered
Mia
Mia
Mia
INT
Mia
O
S
O
S
O
S
O
S
Mia
Mia's
Mia
Mia
MIA
Unmoored
MIA
MIA
MIA
MIA
MIA
Mia
MIA'S
Mia
INT
MIA'S
Mia
INT
MIA'S
Mia
fianc
McKenzies
Sebastian's
INT
SEBASTIAN'S
O
S
Mia
O
S
Mia's
O
S
O
S
INT
MIA'S
Mia's
MIA'S
MIA
Mia
MIA'S
MIA
MIA'S
MIA
Mia's
MIA'S
Mia
MIA
MIA'S
MIA'S
MIA
MIA'S
Mia's
Mia
Mia's
MIA'S
Mia's
SEBASTIAN'S
Mia
MIA'S
SEBASTIAN'S
Mia
MIA
MIA
MIA
Mia
MIA
MIA
MIA
MIA
MIA
MIA
lookalikes
MIA
MIA
MIA
MIA
MIA
Mia
MIA
Mia
MIA
Mia
MIA'S
MIA'S
Sebastian's
Mia
Mia
Mia
Deco
soundstages
INT
Mia
Mia
Mia
INT
INT
MIA
Mia
Mia
MIA
MIA
Mia
Mia
Mia's
MIA
Mia's
Mia
Mia
Mia
Mia
MIA
MIA
MIA
MIA
MIA
MIA
MIA
Mia
Mia
MIA
Mia's
MIA
MIA
MIA
Mia
L
fa
ades
INT
MIA
MIA
BARISTA
Mia's
Mia
Mia
MIA
Mia
Barista
Mia
INT
s
Carson's
How'd
MARMONT
Mia
INT
MARMONT
Mia
Mia's
INT
SEBASTIAN'S
INT
SEBASTIAN'S
MIA
INT
Seb
Seb
Edgar's
INT
MARMONT
Mia
Mia
MIA
Mia
INT
Mia
MIA
INT
Mia
Mia
MIA
Mia
s
Deco
music's
Mia
Mia
SEB'S
Mia
Mia
INT
Mia's
Sebastian's
Sebastian's
Carmichael's
Mia
Mia
Manny
Halloran
Mia
Seb's
Mia
Mia
Mia
Sebastian's
Mia
Mia
Mia
Mia
MIA
Mia
Mia
INT
Mia
INT
INT
Mia
Mia's
INT
SOUNDSTAGE
Mia
L
L
L
Mia
figments
s
s
Mia
Mia
Mia
Mia
Mia
Sacr
Triomphe
CAVEAU
HUCHETTE
Caveau
Mia
Caveau
Mia
Mia
Mia's
Mia
L
Sebastian's
combo's
Mia
Sebastian's
Mia
Mia
Mia
MIA
Mia
Mia
Mia
Sebastian's
L

WORDS MISSPELLED:     955
WORDS IN DICTIONARY:  143091
WORDS IN TEXT:        17756
TIME IN load:         0.05
TIME IN check:        0.03
TIME IN size:         0.00
TIME IN unload:       0.01
TIME IN TOTAL:        0.08

$ ./speller dictionaries/large texts/constitution.txt

MISSPELLED WORDS

USConstitution
http
usconstitution
const
html
tempore
Impeachments
Nays
Nays
repassed
Piracies
Felonies
attainted
Langdon
Gilman
Brearley
Mifflin
Clymer
Fitzsimons
Jared
Gouvernour
McHenry
Jenifer
Blount
Spaight
Cotesworth
tempore
tempore
tempore
tempore

WORDS MISSPELLED:     30
WORDS IN DICTIONARY:  143091
WORDS IN TEXT:        7573
TIME IN load:         0.05
TIME IN check:        0.01
TIME IN size:         0.00
TIME IN unload:       0.00
TIME IN TOTAL:        0.06

$ 

```

## Distribution

For this problem, you'll extend the functionality of code provided to you by CS50's staff.

```
wget https://cdn.cs50.net/2023/fall/psets/5/speller.zip
unzip speller.zip && rm speller.zip
```

## Background

**Given the many files in this program, it's important to read this section in its entirety before starting. You'll then know what to do and how to do it!**

Theoretically, on input of size *n*, an algorithm with a running time of *n* is "asymptotically equivalent," in terms of *O*, to an algorithm with a running time of *2n*. Indeed, when describing the running time of an algorithm, we typically focus on the dominant (i.e., most impactful) term (i.e., *n* in this case, since *n* could be much larger than 2). In the real world, though, the fact of the matter is that *2n* feels twice as slow as *n*.

The challenge ahead of you is to implement the fastest spell checker you can! By "fastest," though, we're talking actual "wall-clock," not asymptotic, time.

In `speller.c`, we've put together a program that's designed to spell-check a file after loading a dictionary of words from disk into memory. That dictionary, meanwhile, is implemented in a file called `dictionary.c`. (It could just be implemented in `speller.c`, but as programs get more complex, it's often convenient to break them into multiple files.) The prototypes for the functions therein, meanwhile, are defined not in `dictionary.c` itself but in `dictionary.h` instead. That way, both `speller.c` and `dictionary.c` can `#include` the file. Unfortunately, we didn't quite get around to implementing the loading part. Or the checking part. Both (and a bit more) we leave to you! But first, a tour.

### Understanding

#### [`dictionary.h`](#dictionaryh)

Open up `dictionary.h`, and you'll see some new syntax, including a few lines that mention `DICTIONARY_H`. No need to worry about those, but, if curious, those lines just ensure that, even though `dictionary.c` and `speller.c` (which you'll see in a moment) `#include` this file, `clang` will only compile it once.

next notice how we `#include` a file called `stdbool.h`. that's the file in which `bool` itself is defined. you've not needed it before, since the cs50 library used to `#include` that for you.

Also notice our use of `#define`, a "preprocessor directive" that defines a "constant" called `LENGTH` that has a value of `45`. It's a constant in the sense that you can't (accidentally) change it in your own code. In fact, `clang` will replace any mentions of `LENGTH` in your own code with, literally, `45`. In other words, it's not a variable, just a find-and-replace trick.

Finally, notice the prototypes for five functions: `check`, `hash`, `load`, `size`, and `unload`. Notice how three of those take a pointer as an argument, per the `*`:

```c
bool check(const char *word);
unsigned int hash(const char *word);
bool load(const char *dictionary);
```
Recall that `char *` is what we used to call `string`. So those three prototypes are essentially just:

```c
bool check(const string word);
unsigned int hash(const string word);
bool load(const string dictionary);
```

And `const`, meanwhile, just says that those strings, when passed in as arguments, must remain constant; you won't be able to change them, accidentally or otherwise!

#### [`dictionary.c`](#dictionaryc)

Now open up `dictionary.c`. Notice how, atop the file, we've defined a `struct` called `node` that represents a node in a hash table. And we've declared a global pointer array, `table`, which will (soon) represent the hash table you will use to keep track of words in the dictionary. The array contains `N` node pointers, and we've set `N` equal to `26` for now, to match with the default `hash` function as described below. You will likely want to increase this depending on your own implementation of `hash`.

Next, notice that we've implemented `load`, `check`, `size`, and `unload`, but only barely, just enough for the code to compile. Notice too that we've implemented `hash` with a sample algorithm based on the first letter of the word. Your job, ultimately, is to re-implement those functions as cleverly as possible so that this spell checker works as advertised. And fast!

#### [`speller.c`](#spellerc)

Okay, next open up `speller.c` and spend some time looking over the code and comments therein. You won't need to change anything in this file, and you don't need to understand its entirety, but do try to get a sense of its functionality nonetheless. Notice how, by way of a function called `getrusage`, we'll be "benchmarking" (i.e., timing the execution of) your implementations of `check`, `load`, `size`, and `unload`. Also notice how we go about passing `check`, word by word, the contents of some file to be spell-checked. Ultimately, we report each misspelling in that file along with a bunch of statistics.

Notice, incidentally, that we have defined the usage of `speller` to be

```
Usage: speller [dictionary] text
```

where `dictionary` is assumed to be a file containing a list of lowercase words, one per line, and `text` is a file to be spell-checked. As the brackets suggest, provision of `dictionary` is optional; if this argument is omitted, `speller` will use `dictionaries/large` by default. In other words, running

```
./speller text
```

will be equivalent to running

``` 
./speller dictionaries/large text
```

where `text` is the file you wish to spell-check. Suffice it to say, the former is easier to type! (Of course, `speller` will not be able to load any dictionaries until you implement `load` in `dictionary.c`! Until then, you'll see `Could not load`.)

Within the default dictionary, mind you, are 143,091 words, all of which must be loaded into memory! In fact, take a peek at that file to get a sense of its structure and size. Notice that every word in that file appears in lowercase (even, for simplicity, proper nouns and acronyms). From top to bottom, the file is sorted lexicographically, with only one word per line (each of which ends with `\n`). No word is longer than 45 characters, and no word appears more than once. During development, you may find it helpful to provide `speller` with a `dictionary` of your own that contains far fewer words, lest you struggle to debug an otherwise enormous structure in memory. In `dictionaries/small` is one such dictionary. To use it, execute

```
./speller dictionaries/small text
```

where `text` is the file you wish to spell-check. Don't move on until you're sure you understand how `speller` itself works!

Odds are, you didn't spend enough time looking over `speller.c`. Go back one square and walk yourself through it again!

#### [`texts/`](#texts)

So that you can test your implementation of `speller`, we've also provided you with a whole bunch of texts, among them the script from *La La Land*, the text of the Affordable Care Act, three million bytes from Tolstoy, some excerpts from *The Federalist Papers* and Shakespeare, and more. So that you know what to expect, open and skim each of those files, all of which are in a directory called `texts` within your `pset5` directory.

Now, as you should know from having read over `speller.c` carefully, the output of `speller`, if executed with, say,

```
./speller texts/lalaland.txt
```

will eventually resemble the below.

Below's some of the output you'll see. For information's sake, we've excerpted some examples of "misspellings." And lest we spoil the fun, we've omitted our own statistics for now.

``` 
MISSPELLED WORDS

[...]
AHHHHHHHHHHHHHHHHHHHHHHHHHHHT
[...]
Shangri
[...]
fianc
[...]
Sebastian's
[...]

WORDS MISSPELLED:
WORDS IN DICTIONARY:
WORDS IN TEXT:
TIME IN load:
TIME IN check:
TIME IN size:
TIME IN unload:
TIME IN TOTAL:
```

`TIME IN load` represents the number of seconds that `speller` spends executing your implementation of `load`. `TIME IN check` represents the number of seconds that `speller` spends, in total, executing your implementation of `check`. `TIME IN size` represents the number of seconds that `speller` spends executing your implementation of `size`. `TIME IN unload` represents the number of seconds that `speller` spends executing your implementation of `unload`. `TIME IN TOTAL` is the sum of those four measurements.

**Note that these times may vary somewhat across executions of `speller`, depending on what else your codespace is doing, even if you don't change your code.**

Incidentally, to be clear, by "misspelled" we simply mean that some word is not in the `dictionary` provided.

#### [`Makefile`](#makefile)

And, lastly, recall that `make` automates compilation of your code so that you don't have to execute `clang` manually along with a whole bunch of switches. However, as your programs grow in size, `make` won't be able to infer from context anymore how to compile your code; you'll need to start telling `make` how to compile your program, particularly when they involve multiple source (i.e., `.c`) files, as in the case of this problem. And so we'll utilize a `Makefile`, a configuration file that tells `make` exactly what to do. Open up `Makefile`, and you should see four lines:

1.  The first line tells `make` to execute the subsequent lines whenever you yourself execute `make speller` (or just `make`).
2.  The second line tells `make` how to compile `speller.c` into machine code (i.e., `speller.o`).
3.  The third line tells `make` how to compile `dictionary.c` into machine code (i.e., `dictionary.o`).
4.  The fourth line tells `make` to link `speller.o` and `dictionary.o` in a file called `speller`.

**Be sure to compile `speller` by executing `make speller` (or just `make`). Executing `make dictionary` won't work!**

## Specification

Alright, the challenge now before you is to implement, in order, `load`, `hash`, `size`, `check`, and `unload` as efficiently as possible using a hash table in such a way that `TIME IN load`, `TIME IN check`, `TIME IN size`, and `TIME IN unload` are all minimized. To be sure, it's not obvious what it even means to be minimized, inasmuch as these benchmarks will certainly vary as you feed `speller` different values for `dictionary` and for `text`. But therein lies the challenge, if not the fun, of this problem. This problem is your chance to design. Although we invite you to minimize space, your ultimate enemy is time. But before you dive in, some specifications from us.

-   You may not alter `speller.c` or `Makefile`.
-   You may alter `dictionary.c` (and, in fact, must in order to complete the implementations of `load`, `hash`, `size`, `check`, and `unload`), but you may not alter the declarations (i.e., prototypes) of `load`, `hash`, `size`, `check`, or `unload`. You may, though, add new functions and (local or global) variables to `dictionary.c`.
-   You may change the value of `N` in `dictionary.c`, so that your hash table can have more buckets.
-   You may alter `dictionary.h`, but you may not alter the declarations of `load`, `hash`, `size`, `check`, or `unload`.
-   Your implementation of `check` must be case-insensitive. In other words, if `foo` is in dictionary, then `check` should return true given any capitalization thereof; none of `foo`, `foO`, `fOo`, `fOO`, `fOO`, `Foo`, `FoO`, `FOo`, and `FOO` should be considered misspelled.
-   Capitalization aside, your implementation of `check` should only return `true` for words actually in `dictionary`. Beware hard-coding common words (e.g., `the`), lest we pass your implementation a `dictionary` without those same words. Moreover, the only possessives allowed are those actually in `dictionary`. In other words, even if `foo` is in `dictionary`, `check` should return `false` given `foo's` if `foo's` is not also in `dictionary`.
-   You may assume that any `dictionary` passed to your program will be structured exactly like ours, alphabetically sorted from top to bottom with one word per line, each of which ends with `\n`. You may also assume that `dictionary` will contain at least one word, that no word will be longer than `LENGTH` (a constant defined in `dictionary.h`) characters, that no word will appear more than once, that each word will contain only lowercase alphabetical characters and possibly apostrophes, and that no word will start with an apostrophe.
-   You may assume that `check` will only be passed words that contain (uppercase or lowercase) alphabetical characters and possibly apostrophes.
-   Your spell checker may only take `text` and, optionally, `dictionary` as input. Although you might be inclined (particularly if among those more comfortable) to "pre-process" our default dictionary in order to derive an "ideal hash function" for it, you may not save the output of any such pre-processing to disk in order to load it back into memory on subsequent runs of your spell checker in order to gain an advantage.
-   Your spell checker must not leak any memory. Be sure to check for leaks with `valgrind`.
-   **The hash function you write should ultimately be your own, not one you search for online.**

Alright, ready to go?

-   Implement `load`.
-   Implement `hash`.
-   Implement `size`.
-   Implement `check`.
-   Implement `unload`.
